
<div class="container bg-info">
  
    <form #frm="ngForm" name="form" (ngSubmit)="frm.form.valid&&onSubmit(frm)">
      
        <div class="form-group">
            <div class="form-group cust-group">
                <button type="button" class="btn btn-danger" (click)="logout()">Log Out</button>&nbsp;
                <button class="btn btn-primary btn-block btn-custom" button type="submit"  *ngIf="!isEdit">
                    Add User
                </button>
            </div>
            <div class="form-group cust-group">
                <button class="btn btn-primary btn-block btn-custom" button type="submit" (click)=frm.form.valid&&onUpdate(frm) *ngIf="isEdit">
                    Update User
                </button>
            </div>
            <label>First Name</label>
            <input type="text" class="form-control" name="fname" [(ngModel)]="userobj.fname"  #fname="ngModel" required
            [ngClass]="{'is-invalid':frm.submitted && fname.invalid}" ngModel>
        </div>
        <div class="form-group">
            <label>Last Name</label>
            <input type="text" class="form-control" name="lname" [(ngModel)]="userobj.lname"  #lname="ngModel" required 
            [ngClass]="{'is-invalid':frm.submitted && lname.invalid}" ngModel>
        </div>
        <div class="form-group">
            <label>Email</label>
            <input type="text" class="form-control" name="Email" [(ngModel)]="userobj.Email" #Email="ngModel"
             required ngModel
             [ngClass]="{'is-invalid':frm.submitted && Email.invalid}" 
             pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
             <div *ngIf="frm.submitted" class="invalid-feedback ">
                <div *ngIf="Email.errors?.pattern"><p>Enter valid email</p></div>
            </div>
             
        </div>
      <br>
     
       
    </form>
</div><br><br>
    <div class="container">
        <table class="table">
            <thead>
                <tr> 
                    <th scope="col">Serial Number</th>
                    <th scope="col">fname</th>
                    <th scope="col">lname</th>
                    <th scope="col">email</th>
                    <th scope="col">Edit</th>
                    <th scope="col">Delete</th>
               </tr>
            </thead>
            <tbody >
                <tr *ngFor="let item of data;let i=index">
                 <td>{{i+1}}</td>
                 <td>{{item.fname|uppercase}}</td>
                 <td>{{item.lname|uppercase}}</td>
                 <td>{{item.Email}}</td>
                 <td><button class="btn btn-danger" (click)="editUser(item,i)">Edit</button></td>
                 <td><button class="btn btn-danger" (click)="deleteUser(item)">Delete</button></td>
            </tr>
            </tbody>
            </table>
            
    </div>

